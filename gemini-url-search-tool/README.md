# Gemini URL Search Tool

ğŸ” Gemini APIã®URLæ¤œç´¢æ©Ÿèƒ½ã‚’æ´»ç”¨ã—ãŸWebæƒ…å ±åé›†ãƒ„ãƒ¼ãƒ«

## æ¦‚è¦

ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€Google Gemini APIã‚’ä½¿ç”¨ã—ã¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢ã‹ã‚‰URLé¸æŠã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¦ç´„ã¾ã§ã‚’è‡ªå‹•åŒ–ã™ã‚‹ç‹¬ç«‹ã—ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ç ”ç©¶ã€é–‹ç™ºã€æƒ…å ±åé›†ã®åŠ¹ç‡åŒ–ã‚’ç›®çš„ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

### ä¸»ãªç”¨é€”
1. **ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢**: ä¸€èˆ¬çš„ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã®Webæƒ…å ±åé›†
2. **éƒ¨å“ä»•æ§˜æ¤œç´¢**: ãƒ¡ãƒ¼ã‚«ãƒ¼åã¨å“ç•ªã«ã‚ˆã‚‹æŠ€è¡“æ–‡æ›¸ã®åŠ¹ç‡çš„ãªåé›†
3. **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ**: æ¤œç´¢çµæœã®è‡ªå‹•è¦ç´„ã¨æ§‹é€ åŒ–
4. **æƒ…å ±ç®¡ç†**: æ¤œç´¢å±¥æ­´ã¨çµæœã®ä¿å­˜ãƒ»ç®¡ç†

## ä¸»è¦æ©Ÿèƒ½

### ğŸ” æ¤œç´¢æ©Ÿèƒ½
- **ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢**: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚„ãƒ•ãƒ¬ãƒ¼ã‚ºã§ã®é–¢é€£URLæ¤œç´¢
- **éƒ¨å“ä»•æ§˜æ¤œç´¢**: ãƒ¡ãƒ¼ã‚«ãƒ¼åã¨å“ç•ªã«ã‚ˆã‚‹å°‚é–€çš„ãªæ¤œç´¢
- **ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆçµæœãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: é–¢é€£æ€§ã¨å“è³ªã«ã‚ˆã‚‹è‡ªå‹•ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- **é‡è¤‡é™¤å»**: åŒä¸€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‡ªå‹•æ¤œå‡ºã¨é™¤å»

### ğŸ“„ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å‡¦ç†
- **è‡ªå‹•è¦ç´„**: é¸æŠã—ãŸURLã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ§‹é€ åŒ–ã—ã¦è¦ç´„
- **æŠ€è¡“ä»•æ§˜æŠ½å‡º**: éƒ¨å“ä»•æ§˜æ›¸ã‹ã‚‰ã®ä¸»è¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŠ½å‡º
- **å¤§å®¹é‡ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¯¾å¿œ**: ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªå‡¦ç†
- **å¤šè¨€èªå¯¾å¿œ**: æ—¥æœ¬èªãƒ»è‹±èªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®å‡¦ç†

### ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- **æ¤œç´¢å±¥æ­´**: å…¨ã¦ã®æ¤œç´¢ã‚¯ã‚¨ãƒªã¨çµæœã®ä¿å­˜
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¿å­˜**: æœ‰ç”¨ãªæƒ…å ±ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€ã‚«ãƒ†ã‚´ãƒªã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®è‡ªå‹•ä»˜ä¸
- **è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ **: æ¤œç´¢çµæœã®æœ‰ç”¨æ€§è©•ä¾¡ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

### ğŸ“Š åˆ†æãƒ»è©•ä¾¡
- **å®Ÿç”¨æ€§è©•ä¾¡**: æ¤œç´¢ç²¾åº¦ã¨åŠ¹æœã®æ¸¬å®šãƒ»åˆ†æ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–**: æ¤œç´¢æ™‚é–“ã€æˆåŠŸç‡ã®è¿½è·¡
- **ä½¿ç”¨çµ±è¨ˆ**: æ¤œç´¢ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨æ”¹å–„ææ¡ˆã®ç”Ÿæˆ
- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: è¦–è¦šçš„ãªçµ±è¨ˆæƒ…å ±ã®è¡¨ç¤º

## ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

- **Python**: 3.8ä»¥ä¸Š
- **OS**: Windows, macOS, Linux
- **ãƒ¡ãƒ¢ãƒª**: æœ€å°512MBã€æ¨å¥¨1GBä»¥ä¸Š
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: æœ€å°100MBï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”¨ï¼‰
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šï¼ˆGemini APIç”¨ï¼‰

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone <repository-url>
cd gemini-url-search-tool
```

### 2. Pythonä»®æƒ³ç’°å¢ƒã®ä½œæˆï¼ˆæ¨å¥¨ï¼‰
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

### 3. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install -r requirements.txt
```

### 4. å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ
```bash
mkdir -p data logs
```

## è¨­å®š

### 1. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
```bash
cp .env.example .env
```

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ä»¥ä¸‹ã‚’è¨­å®šï¼š
```env
# å¿…é ˆ: Gemini API ã‚­ãƒ¼
GEMINI_API_KEY=your_gemini_api_key_here

# ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š
DEBUG=false
LOG_LEVEL=INFO
DATABASE_PATH=data/search_results.db
ENABLE_CACHE=true
CACHE_DURATION_HOURS=24
```

### 2. Gemini API ã‚­ãƒ¼ã®å–å¾—
1. [Google AI Studio](https://makersuite.google.com/app/apikey)ã«ã‚¢ã‚¯ã‚»ã‚¹
2. Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
3. ã€ŒCreate API Keyã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ç”Ÿæˆã•ã‚ŒãŸAPIã‚­ãƒ¼ã‚’`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®š

### 3. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
`config.json`ã§è©³ç´°è¨­å®šã‚’èª¿æ•´å¯èƒ½ï¼š

```json
{
  "gemini": {
    "models": ["gemini-2.0-flash-exp", "gemini-1.5-flash"],
    "max_retries": 3,
    "timeout": 30
  },
  "search": {
    "max_results": 10,
    "enable_caching": true,
    "cache_duration_hours": 24
  },
  "content": {
    "max_content_size": 1048576,
    "summary_max_length": 1000
  }
}
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ç”¨æ‰‹é †

1. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•**
```bash
streamlit run main.py
```

2. **ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹**
   - URL: http://localhost:8501
   - è‡ªå‹•çš„ã«ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ãã¾ã™

3. **æ¤œç´¢ã®å®Ÿè¡Œ**
   - æ¤œç´¢ã‚¿ã‚¤ãƒ—ã‚’é¸æŠï¼ˆä¸€èˆ¬æ¤œç´¢ or éƒ¨å“æ¤œç´¢ï¼‰
   - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¾ãŸã¯ãƒ¡ãƒ¼ã‚«ãƒ¼åãƒ»å“ç•ªã‚’å…¥åŠ›
   - ã€Œæ¤œç´¢å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

4. **çµæœã®ç¢ºèª**
   - æ¤œç´¢çµæœä¸€è¦§ã‹ã‚‰èˆˆå‘³ã®ã‚ã‚‹URLã‚’é¸æŠ
   - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¦ç´„ã‚’ç¢ºèª
   - å¿…è¦ã«å¿œã˜ã¦çµæœã‚’ä¿å­˜ãƒ»è©•ä¾¡

### æ¤œç´¢ã‚¿ã‚¤ãƒ—åˆ¥ã®ä½¿ç”¨ä¾‹

#### ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢
```
æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: "Python æ©Ÿæ¢°å­¦ç¿’ å…¥é–€"
â†’ Pythonæ©Ÿæ¢°å­¦ç¿’ã«é–¢ã™ã‚‹è¨˜äº‹ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ¤œç´¢
```

#### éƒ¨å“ä»•æ§˜æ¤œç´¢
```
ãƒ¡ãƒ¼ã‚«ãƒ¼å: "Arduino"
å“ç•ª: "UNO R3"
â†’ Arduino UNO R3ã®å…¬å¼ä»•æ§˜æ›¸ã€ãƒ‡ãƒ¼ã‚¿ã‚·ãƒ¼ãƒˆã‚’å„ªå…ˆçš„ã«æ¤œç´¢
```

### é«˜åº¦ãªæ©Ÿèƒ½

#### æ¤œç´¢çµæœã®ç®¡ç†
- **ä¿å­˜**: æœ‰ç”¨ãªçµæœã‚’ã€Œä¿å­˜ã€ãƒœã‚¿ãƒ³ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜
- **è©•ä¾¡**: 5æ®µéšè©•ä¾¡ã§çµæœã®æœ‰ç”¨æ€§ã‚’è¨˜éŒ²
- **å±¥æ­´**: ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰éå»ã®æ¤œç´¢å±¥æ­´ã‚’ç¢ºèª

#### è¨­å®šã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
- **è¡¨ç¤ºè¨­å®š**: çµæœè¡¨ç¤ºæ•°ã€è¦ç´„ã®é•·ã•
- **æ¤œç´¢è¨­å®š**: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã€ãƒªãƒˆãƒ©ã‚¤å›æ•°
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®š**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰åŠ¹æœŸé–“

## API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ä¸»è¦ã‚¯ãƒ©ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰

#### SearchService
```python
from src.core.search_service import SearchService

# åˆæœŸåŒ–
search_service = SearchService(gemini_client, search_repository)

# ä¸€èˆ¬æ¤œç´¢
results = await search_service.search_general("Python tutorial")

# éƒ¨å“æ¤œç´¢
results = await search_service.search_component_specs("Arduino", "UNO R3")
```

#### ContentService
```python
from src.core.content_service import ContentService

# åˆæœŸåŒ–
content_service = ContentService(gemini_client)

# ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å–å¾—ã¨åˆ†æ
analysis = await content_service.analyze_url("https://example.com")

# è¦ç´„ç”Ÿæˆ
summary = await content_service.generate_summary(content, focus_areas=["æŠ€è¡“ä»•æ§˜"])
```

#### GeminiClient
```python
from src.core.gemini_client import GeminiClient

# åˆæœŸåŒ–
client = GeminiClient(api_key="your_api_key")

# URLæ¤œç´¢
search_results = await client.search_urls("search query", SearchType.GENERAL)

# ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ
analysis = await client.analyze_content("https://example.com")
```

### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

#### SearchResult
```python
@dataclass
class SearchResult:
    url: str                    # æ¤œç´¢çµæœã®URL
    title: str                  # ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«
    description: str            # èª¬æ˜æ–‡
    rank: int                   # ãƒ©ãƒ³ã‚­ãƒ³ã‚°é †ä½
    is_official: bool = False   # å…¬å¼ã‚½ãƒ¼ã‚¹ã‹ã©ã†ã‹
    confidence_score: float = 0.0  # ä¿¡é ¼åº¦ã‚¹ã‚³ã‚¢
```

#### ContentAnalysis
```python
@dataclass
class ContentAnalysis:
    url: str                    # åˆ†æå¯¾è±¡URL
    content_type: str           # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—
    summary: str                # è¦ç´„æ–‡
    key_points: List[str]       # ä¸»è¦ãƒã‚¤ãƒ³ãƒˆ
    technical_specs: Dict[str, Any]  # æŠ€è¡“ä»•æ§˜
    extraction_time: float      # å‡¦ç†æ™‚é–“
    content_size: int           # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µã‚¤ã‚º
```

### ä½¿ç”¨ä¾‹

#### åŸºæœ¬çš„ãªæ¤œç´¢ãƒ•ãƒ­ãƒ¼
```python
import asyncio
from src.core.gemini_client import GeminiClient
from src.core.search_service import SearchService
from src.models.repository import SearchRepository

async def search_example():
    # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆåˆæœŸåŒ–
    client = GeminiClient(api_key="your_api_key")
    repository = SearchRepository("data/search_results.db")
    search_service = SearchService(client, repository)
    
    # æ¤œç´¢å®Ÿè¡Œ
    results = await search_service.search_general("Python tutorial")
    
    # çµæœã®è¡¨ç¤º
    for result in results:
        print(f"Title: {result.title}")
        print(f"URL: {result.url}")
        print(f"Description: {result.description}")
        print("---")

# å®Ÿè¡Œ
asyncio.run(search_example())
```

#### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æã®ä¾‹
```python
from src.core.content_service import ContentService

async def analyze_example():
    client = GeminiClient(api_key="your_api_key")
    content_service = ContentService(client)
    
    # URLåˆ†æ
    analysis = await content_service.analyze_url("https://example.com")
    
    print(f"Summary: {analysis.summary}")
    print(f"Key Points: {analysis.key_points}")
    print(f"Technical Specs: {analysis.technical_specs}")

asyncio.run(analyze_example())
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
gemini-url-search-tool/
â”œâ”€â”€ README.md                   # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ requirements.txt            # Pythonä¾å­˜é–¢ä¿‚
â”œâ”€â”€ config.json                 # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”œâ”€â”€ .env.example               # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ main.py                    # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ src/                       # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ core/                  # ã‚³ã‚¢æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ gemini_client.py   # Gemini API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ search_service.py  # æ¤œç´¢ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”œâ”€â”€ content_service.py # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å‡¦ç†
â”‚   â”‚   â””â”€â”€ storage_service.py # ãƒ‡ãƒ¼ã‚¿ä¿å­˜
â”‚   â”œâ”€â”€ ui/                    # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ search_app.py      # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”‚   â”‚   â””â”€â”€ components/        # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ models/                # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ data_models.py     # ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹å®šç¾©
â”‚   â”‚   â””â”€â”€ database.py        # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â”œâ”€â”€ utils/                 # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ error_handler.py   # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚   â”‚   â””â”€â”€ validators.py      # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â””â”€â”€ evaluation/            # è©•ä¾¡ãƒ»åˆ†æ
â”‚       â””â”€â”€ evaluation_service.py
â”œâ”€â”€ data/                      # ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ search_results.db      # SQLiteãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â””â”€â”€ cache/                 # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ logs/                      # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ app.log
â””â”€â”€ tests/                     # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ test_gemini_client.py
    â”œâ”€â”€ test_search_service.py
    â””â”€â”€ test_integration.py
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. APIèªè¨¼ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `Authentication failed` ã¾ãŸã¯ `Invalid API key`
```
Error: Authentication failed with Gemini API
```

**è§£æ±ºæ–¹æ³•**:
1. `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã§APIã‚­ãƒ¼ã‚’ç¢ºèª
2. [Google AI Studio](https://makersuite.google.com/app/apikey)ã§æ–°ã—ã„ã‚­ãƒ¼ã‚’ç”Ÿæˆ
3. APIã‚­ãƒ¼ã«ä½™åˆ†ãªã‚¹ãƒšãƒ¼ã‚¹ã‚„æ”¹è¡ŒãŒãªã„ã‹ç¢ºèª
4. ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª:
```bash
python -c "import os; from dotenv import load_dotenv; load_dotenv(); print(os.getenv('GEMINI_API_KEY'))"
```

#### 2. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `Rate limit exceeded` ã¾ãŸã¯æ¤œç´¢ãŒé »ç¹ã«å¤±æ•—
```
Error: Rate limit exceeded. Please try again later.
```

**è§£æ±ºæ–¹æ³•**:
1. `config.json`ã§ãƒªãƒˆãƒ©ã‚¤è¨­å®šã‚’èª¿æ•´:
```json
{
  "gemini": {
    "max_retries": 5,
    "rate_limit_delay": 2.0
  }
}
```
2. æ¤œç´¢é »åº¦ã‚’ä¸‹ã’ã‚‹
3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã—ã¦é‡è¤‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é¿ã‘ã‚‹

#### 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `Database connection failed` ã¾ãŸã¯ `Permission denied`
```
Error: Unable to connect to database: data/search_results.db
```

**è§£æ±ºæ–¹æ³•**:
1. `data`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ:
```bash
mkdir -p data
```
2. ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™ã®ç¢ºèª:
```bash
# Windows
icacls data /grant %USERNAME%:F

# macOS/Linux
chmod 755 data
```
3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®å†ä½œæˆ:
```bash
rm data/search_results.db  # æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
python -c "from src.models.database import DatabaseManager; DatabaseManager('data/search_results.db').initialize_database()"
```

#### 4. Streamlitã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ãªã„
**ç—‡çŠ¶**: `ModuleNotFoundError` ã¾ãŸã¯ `ImportError`
```
ModuleNotFoundError: No module named 'src'
```

**è§£æ±ºæ–¹æ³•**:
1. æ­£ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œã—ã¦ã„ã‚‹ã‹ç¢ºèª:
```bash
pwd  # gemini-url-search-tool ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
```
2. ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
```bash
pip install -r requirements.txt
```
3. Python ãƒ‘ã‚¹ã®ç¢ºèª:
```bash
python -c "import sys; print(sys.path)"
```

#### 5. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å–å¾—ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `Content fetch failed` ã¾ãŸã¯ `Timeout error`
```
Error: Failed to fetch content from URL: https://example.com
```

**è§£æ±ºæ–¹æ³•**:
1. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã®ç¢ºèª
2. ãƒ—ãƒ­ã‚­ã‚·è¨­å®šï¼ˆå¿…è¦ãªå ´åˆï¼‰:
```env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ 
HTTP_PROXY=http://proxy.example.com:8080
HTTPS_PROXY=https://proxy.example.com:8080
```
3. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šã®èª¿æ•´:
```json
{
  "content": {
    "extraction_timeout": 120
  }
}
```

#### 6. ãƒ¡ãƒ¢ãƒªä¸è¶³ã‚¨ãƒ©ãƒ¼
**ç—‡çŠ¶**: `MemoryError` ã¾ãŸã¯ ã‚¢ãƒ—ãƒªãŒçªç„¶çµ‚äº†
```
MemoryError: Unable to allocate memory
```

**è§£æ±ºæ–¹æ³•**:
1. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚µã‚¤ã‚ºåˆ¶é™ã®èª¿æ•´:
```json
{
  "content": {
    "max_content_size": 524288,
    "chunk_size": 2048
  }
}
```
2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢:
```bash
rm -rf data/cache/*
```
3. ä¸è¦ãªãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤:
```python
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
from src.models.database import DatabaseManager
db = DatabaseManager('data/search_results.db')
db.cleanup_old_records(days=7)
```

### ãƒ­ã‚°ã®ç¢ºèªæ–¹æ³•

#### ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€
- ãƒ¡ã‚¤ãƒ³ãƒ­ã‚°: `logs/app.log`
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›

#### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã®èª¿æ•´
`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®š:
```env
LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR
```

#### è©³ç´°ãªãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®å–å¾—
```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
DEBUG=true streamlit run main.py
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

#### 1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨
```json
{
  "search": {
    "enable_caching": true,
    "cache_duration_hours": 24
  }
}
```

#### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æœ€é©åŒ–
```python
# å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
from src.models.database import DatabaseManager
db = DatabaseManager('data/search_results.db')
db.vacuum()  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æœ€é©åŒ–
```

#### 3. ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç›£è¦–
```python
# ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç¢ºèª
import psutil
import os

process = psutil.Process(os.getpid())
print(f"Memory usage: {process.memory_info().rss / 1024 / 1024:.2f} MB")
```

### ã‚µãƒãƒ¼ãƒˆã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’å«ã‚ã¦ãŠå•ã„åˆã‚ã›ãã ã•ã„ï¼š

1. **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: å®Œå…¨ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
2. **ç’°å¢ƒæƒ…å ±**: OSã€Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³
3. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: `config.json`ã¨`.env`ï¼ˆAPIã‚­ãƒ¼ã¯é™¤ãï¼‰
4. **ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«**: `logs/app.log`ã®é–¢é€£éƒ¨åˆ†
5. **å†ç¾æ‰‹é †**: ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹å…·ä½“çš„ãªæ‰‹é †

## é–‹ç™ºãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# é–‹ç™ºç”¨ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install pytest pytest-asyncio black flake8

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
python -m pytest tests/

# ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
black src/ tests/

# ãƒªãƒ³ã‚¿ãƒ¼å®Ÿè¡Œ
flake8 src/ tests/
```

### ã‚«ã‚¹ã‚¿ãƒ æ¤œç´¢ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è¿½åŠ 
`src/core/search_service.py`ã®`_build_search_prompt`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç·¨é›†ã—ã¦ã€ç‹¬è‡ªã®æ¤œç´¢ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¿½åŠ ã§ãã¾ã™ã€‚

### æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã®å¯¾å¿œ
`src/core/content_service.py`ã®`_detect_content_type`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ‹¡å¼µã—ã¦ã€æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—ã«å¯¾å¿œã§ãã¾ã™ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯[LICENSE](LICENSE)ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## æ›´æ–°å±¥æ­´

### v1.0.0 (2024-01-XX)
- åˆå›ãƒªãƒªãƒ¼ã‚¹
- ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢æ©Ÿèƒ½
- éƒ¨å“ä»•æ§˜æ¤œç´¢æ©Ÿèƒ½
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¦ç´„æ©Ÿèƒ½
- æ¤œç´¢çµæœä¿å­˜ãƒ»ç®¡ç†æ©Ÿèƒ½
- å®Ÿç”¨æ€§è©•ä¾¡æ©Ÿèƒ½